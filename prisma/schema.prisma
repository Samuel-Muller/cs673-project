generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model payment {
  paymentID   Int      @id @default(autoincrement())
  userID      Int
  invoiceID   Int
  insuranceID Int
  totalAmount Float    @db.Float
  paymentDate DateTime @db.Date
  cardNum     String   @db.VarChar(100)
  cardExp     String   @db.VarChar(100)
}

model insurance {
  insuranceID   Int      @id @default(autoincrement())
  insuranceDate DateTime @db.DateTime(0)
  clientName    String   @db.VarChar(45)
  invoiceTitle  String   @db.VarChar(45)
  invoiceAmount Float    @db.Float
  amountDue     Float    @db.Float
}

model invoice {
  invoiceID       Int       @id @default(autoincrement())
  userID          Int
  insuranceID     Int
  payerID         Int
  invoiceTitle    String    @db.VarChar(45)
  diagnosis       String    @db.VarChar(10000)
  totalAmount     Float     @db.Float
  minimumDue      Float     @db.Float
  dueDate         DateTime  @db.DateTime(0)
  lastPaymentDate DateTime? @db.DateTime(0)
  invoiceDate     DateTime  @db.DateTime(0)
  amountPaid      Float     @db.Float
  approved        Int?
  icd10           String?   @db.VarChar(100)
}

model reports {
  reportID     Int      @id @default(autoincrement())
  startDate    DateTime @db.DateTime(0)
  endDate      DateTime @db.DateTime(0)
  totalBalance Float    @db.Float
  paymentID    String?  @db.VarChar(45)
}
